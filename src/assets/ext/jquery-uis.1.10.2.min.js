$(document).ready(function(){
	
	//close all panels
	$(document).on('click','#close', function(){
		$('#body_general').hide();
		return false;
	})
	
	$(document).on('click','#regBtn', function() {
		$("#loader_httpFeed").show();
		
		$.ajax({
		type: "POST",
		url: "localapi/api/Employee/create",
		data: $('.regSerlz').serialize(),
		dataType: "json",
		success: function(xhr){ 
		let callBackObject = xhr.status;
		
			if(callBackObject==400){
				
				Swal.fire({
				 type: 'error',
				 text: xhr.statusmsg
				})
			 }else{
				 Swal.fire({
				 type: 'success',
				 text: xhr.statusmsg
				})
			 }
			$("#loader_httpFeed").hide();
				
		},
		error: function(jqXHR, textStatus, errorThrown) {
			$("#loader_httpFeeds").hide();	
			console.log(textStatus, errorThrown);
		}
		});
		return false;
		})	
		
		$(document).on('click','.search_modules', function() {
			$("#loader_httpFeed").show();
			$.ajax({
			type: "POST",
			url: "localapi/api/Employee/search",
			data: $('.search_modules_results').serialize(),
			dataType: "json",
			success: function(xhr){ 
			let callBackObject = xhr.status;
			
				if(callBackObject==400){
					
					Swal.fire({
					 type: 'error',
					 text: xhr.statusmsg
					})
					
				 }else{
					//$('.include_tables').html()
					$('.include_tables').html(xhr.data)
				 }
				$("#loader_httpFeed").hide();					
			},
			error: function(jqXHR, textStatus, errorThrown) {
				$("#loader_httpFeeds").hide();	
				console.log(textStatus, errorThrown);
			}
			});
			return false;
		})
		
		$(document).on('click','.search_modules_r', function() {
			$("#loader_httpFeed").show();
			$.ajax({
			type: "POST",
			url: "localapi/api/Employee/searchmodule",
			data: $('.search_modules_results_r').serialize(),
			dataType: "json",
			success: function(xhr){ 
			let callBackObject = xhr.status;
			
				if(callBackObject==400){
					
					Swal.fire({
					 type: 'error',
					 text: xhr.statusmsg
					})
					
				 }else{
					//$('.include_tables').html()
					$('.include_tables').html(xhr.data)
				 }
				$("#loader_httpFeed").hide();					
			},
			error: function(jqXHR, textStatus, errorThrown) {
				$("#loader_httpFeeds").hide();	
				console.log(textStatus, errorThrown);
			}
			});
			return false;
		})
		
		
		$(document).on('click','.comDialog', function() {
			$("#loader_httpFeed").show();
			let id = $(this).attr("id");
			let dataString =  "id="+ id;
			$.ajax({
				type: "POST",
				url: "customerManagement/groupAccount/dialog",
				data: dataString,
				cache: false,
				success: function(msg){	
				$("#loader_httpFeed").hide();	 
				new top.PopMem({ 
					"title": "Edit Registration", 
					"content": msg
				});
				}		
			});
		return false;
		})
		

		
		
		
		
		
		
	  
});

function makeid(length) {
  var text = "";
  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  for (var i = 0; i < length; i++)
    text += possible.charAt(Math.floor(Math.random() * possible.length));
  return text;
}



						